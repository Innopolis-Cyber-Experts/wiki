# Enumeration

## Subdomain enumeration

Passive:

* Collect subdomains from search engines and other open sources with [subfinder](https://github.com/projectdiscovery/subfinder):

```bash
subfinder -d domain.com
```

* Manually get subdomains from search engines, using dork queries (for example "site:\*.domain.com")
* [https://rapiddns.io/](https://rapiddns.io/)
* Check SSL certificates of enumerated domains - they can contain information about subdomains

Active:

* Find subdomains with HTTP using [ffuf](https://github.com/ffuf/ffuf):

```bash
ffuf -w ~/Wordlists/SecLists/Discovery/DNS/namelist.txt -u http://FUZZ.domain.com
```

* Enumerate Vhosts on machine with ffuf:

```
ffuf -u http://<MACHINE IP>/ -H 'Host: FUZZ.domain.com' -w ~/Wordlists/SecLists/Discovery/DNS/namelist.txt
```

* With gobuster:

```bash
gobuster dns -d domain.com -w ~/Wordlists/SecLists/Discovery/DNS/namelist.txt
```

## Useful files

| File            | Description                                                                                                                                        |
| --------------- | -------------------------------------------------------------------------------------------------------------------------------------------------- |
| /robots.txt     | File used to control search engine indexing. Sometimes it contains hidden pages. Sometimes you can find the framework version or other useful info |
| /admin          | Default admin login page on various sites (including Django based)                                                                                 |
| /administrator/ | Joomla! login page                                                                                                                                 |
| /wp-login.php   | WordPress login page                                                                                                                               |
| /.git/          | Git hidden directory - can be used to dump site sources                                                                                            |
| /.env           | Common file to store environment variables, including database passwords and secret key for sessions                                               |
| /v2/api-docs    | Swagger API UI                                                                                                                                     |

## Subdirectory enumeration

* Using google dorks ("site: domain.com")
* Using web spider (for example [gospider](https://github.com/jaeles-project/gospider))
* With ffuf:

```bash
ffuf -w ~/Wordlists/SecLists/Discovery/Web-Content/common.txt -u http://domain.com/FUZZ
```

* With gobuster:

```bash
gobuster dir -w ~/Wordlists/SecLists/Discovery/Web-Content/common.txt -u http://domain.com
```

## Param enumeration

* With ffuf:

```
ffuf -w ~/Wordlists/SecLists/Discovery/Web-Content/burp-parameter-names.txt -u http://domain.com/index.php?FUZZ=1
```

## Header enumeration

* With ffuf:

```
ffuf -w ~/Wordlists/SecLists/Discovery/Web-Content/BurpSuite-ParamMiner/lowercase-headers -u http://domain.com/index.php -H 'FUZZ: 1'
```

